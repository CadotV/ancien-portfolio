!function(t){var e={};function i(s){if(e[s])return e[s].exports;var h=e[s]={i:s,l:!1,exports:{}};return t[s].call(h.exports,h,h.exports,i),h.l=!0,h.exports}i.m=t,i.c=e,i.d=function(t,e,s){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var h in t)i.d(s,h,function(e){return t[e]}.bind(null,h));return s},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=12)}([function(t,e,i){"use strict";var s=i(1),h=i(4);function n(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}e.parse=b,e.resolve=function(t,e){return b(t,!1,!0).resolve(e)},e.resolveObject=function(t,e){return t?b(t,!1,!0).resolveObject(e):e},e.format=function(t){h.isString(t)&&(t=b(t));return t instanceof n?t.format():n.prototype.format.call(t)},e.Url=n;var o=/^([a-z0-9.+-]+:)/i,r=/:[0-9]*$/,a=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,c=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),d=["'"].concat(c),u=["%","/","?",";","#"].concat(d),p=["/","?","#"],l=/^[+a-z0-9A-Z_-]{0,63}$/,g=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,y={javascript:!0,"javascript:":!0},f={javascript:!0,"javascript:":!0},m={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},v=i(5);function b(t,e,i){if(t&&h.isObject(t)&&t instanceof n)return t;var s=new n;return s.parse(t,e,i),s}n.prototype.parse=function(t,e,i){if(!h.isString(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var n=t.indexOf("?"),r=-1!==n&&n<t.indexOf("#")?"?":"#",c=t.split(r);c[0]=c[0].replace(/\\/g,"/");var b=t=c.join(r);if(b=b.trim(),!i&&1===t.split("#").length){var w=a.exec(b);if(w)return this.path=b,this.href=b,this.pathname=w[1],w[2]?(this.search=w[2],this.query=e?v.parse(this.search.substr(1)):this.search.substr(1)):e&&(this.search="",this.query={}),this}var x=o.exec(b);if(x){var S=(x=x[0]).toLowerCase();this.protocol=S,b=b.substr(x.length)}if(i||x||b.match(/^\/\/[^@\/]+@[^@\/]+/)){var B="//"===b.substr(0,2);!B||x&&f[x]||(b=b.substr(2),this.slashes=!0)}if(!f[x]&&(B||x&&!m[x])){for(var C,k,A=-1,M=0;M<p.length;M++){-1!==(R=b.indexOf(p[M]))&&(-1===A||R<A)&&(A=R)}-1!==(k=-1===A?b.lastIndexOf("@"):b.lastIndexOf("@",A))&&(C=b.slice(0,k),b=b.slice(k+1),this.auth=decodeURIComponent(C)),A=-1;for(M=0;M<u.length;M++){var R;-1!==(R=b.indexOf(u[M]))&&(-1===A||R<A)&&(A=R)}-1===A&&(A=b.length),this.host=b.slice(0,A),b=b.slice(A),this.parseHost(),this.hostname=this.hostname||"";var P="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!P)for(var T=this.hostname.split(/\./),D=(M=0,T.length);M<D;M++){var I=T[M];if(I&&!I.match(l)){for(var j="",E=0,O=I.length;E<O;E++)I.charCodeAt(E)>127?j+="x":j+=I[E];if(!j.match(l)){var H=T.slice(0,M),F=T.slice(M+1),L=I.match(g);L&&(H.push(L[1]),F.unshift(L[2])),F.length&&(b="/"+F.join(".")+b),this.hostname=H.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),P||(this.hostname=s.toASCII(this.hostname));var X=this.port?":"+this.port:"",W=this.hostname||"";this.host=W+X,this.href+=this.host,P&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==b[0]&&(b="/"+b))}if(!y[S])for(M=0,D=d.length;M<D;M++){var q=d[M];if(-1!==b.indexOf(q)){var Y=encodeURIComponent(q);Y===q&&(Y=escape(q)),b=b.split(q).join(Y)}}var z=b.indexOf("#");-1!==z&&(this.hash=b.substr(z),b=b.slice(0,z));var N=b.indexOf("?");if(-1!==N?(this.search=b.substr(N),this.query=b.substr(N+1),e&&(this.query=v.parse(this.query)),b=b.slice(0,N)):e&&(this.search="",this.query={}),b&&(this.pathname=b),m[S]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){X=this.pathname||"";var U=this.search||"";this.path=X+U}return this.href=this.format(),this},n.prototype.format=function(){var t=this.auth||"";t&&(t=(t=encodeURIComponent(t)).replace(/%3A/i,":"),t+="@");var e=this.protocol||"",i=this.pathname||"",s=this.hash||"",n=!1,o="";this.host?n=t+this.host:this.hostname&&(n=t+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(n+=":"+this.port)),this.query&&h.isObject(this.query)&&Object.keys(this.query).length&&(o=v.stringify(this.query));var r=this.search||o&&"?"+o||"";return e&&":"!==e.substr(-1)&&(e+=":"),this.slashes||(!e||m[e])&&!1!==n?(n="//"+(n||""),i&&"/"!==i.charAt(0)&&(i="/"+i)):n||(n=""),s&&"#"!==s.charAt(0)&&(s="#"+s),r&&"?"!==r.charAt(0)&&(r="?"+r),e+n+(i=i.replace(/[?#]/g,(function(t){return encodeURIComponent(t)})))+(r=r.replace("#","%23"))+s},n.prototype.resolve=function(t){return this.resolveObject(b(t,!1,!0)).format()},n.prototype.resolveObject=function(t){if(h.isString(t)){var e=new n;e.parse(t,!1,!0),t=e}for(var i=new n,s=Object.keys(this),o=0;o<s.length;o++){var r=s[o];i[r]=this[r]}if(i.hash=t.hash,""===t.href)return i.href=i.format(),i;if(t.slashes&&!t.protocol){for(var a=Object.keys(t),c=0;c<a.length;c++){var d=a[c];"protocol"!==d&&(i[d]=t[d])}return m[i.protocol]&&i.hostname&&!i.pathname&&(i.path=i.pathname="/"),i.href=i.format(),i}if(t.protocol&&t.protocol!==i.protocol){if(!m[t.protocol]){for(var u=Object.keys(t),p=0;p<u.length;p++){var l=u[p];i[l]=t[l]}return i.href=i.format(),i}if(i.protocol=t.protocol,t.host||f[t.protocol])i.pathname=t.pathname;else{for(var g=(t.pathname||"").split("/");g.length&&!(t.host=g.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),""!==g[0]&&g.unshift(""),g.length<2&&g.unshift(""),i.pathname=g.join("/")}if(i.search=t.search,i.query=t.query,i.host=t.host||"",i.auth=t.auth,i.hostname=t.hostname||t.host,i.port=t.port,i.pathname||i.search){var y=i.pathname||"",v=i.search||"";i.path=y+v}return i.slashes=i.slashes||t.slashes,i.href=i.format(),i}var b=i.pathname&&"/"===i.pathname.charAt(0),w=t.host||t.pathname&&"/"===t.pathname.charAt(0),x=w||b||i.host&&t.pathname,S=x,B=i.pathname&&i.pathname.split("/")||[],C=(g=t.pathname&&t.pathname.split("/")||[],i.protocol&&!m[i.protocol]);if(C&&(i.hostname="",i.port=null,i.host&&(""===B[0]?B[0]=i.host:B.unshift(i.host)),i.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(""===g[0]?g[0]=t.host:g.unshift(t.host)),t.host=null),x=x&&(""===g[0]||""===B[0])),w)i.host=t.host||""===t.host?t.host:i.host,i.hostname=t.hostname||""===t.hostname?t.hostname:i.hostname,i.search=t.search,i.query=t.query,B=g;else if(g.length)B||(B=[]),B.pop(),B=B.concat(g),i.search=t.search,i.query=t.query;else if(!h.isNullOrUndefined(t.search)){if(C)i.hostname=i.host=B.shift(),(P=!!(i.host&&i.host.indexOf("@")>0)&&i.host.split("@"))&&(i.auth=P.shift(),i.host=i.hostname=P.shift());return i.search=t.search,i.query=t.query,h.isNull(i.pathname)&&h.isNull(i.search)||(i.path=(i.pathname?i.pathname:"")+(i.search?i.search:"")),i.href=i.format(),i}if(!B.length)return i.pathname=null,i.search?i.path="/"+i.search:i.path=null,i.href=i.format(),i;for(var k=B.slice(-1)[0],A=(i.host||t.host||B.length>1)&&("."===k||".."===k)||""===k,M=0,R=B.length;R>=0;R--)"."===(k=B[R])?B.splice(R,1):".."===k?(B.splice(R,1),M++):M&&(B.splice(R,1),M--);if(!x&&!S)for(;M--;M)B.unshift("..");!x||""===B[0]||B[0]&&"/"===B[0].charAt(0)||B.unshift(""),A&&"/"!==B.join("/").substr(-1)&&B.push("");var P,T=""===B[0]||B[0]&&"/"===B[0].charAt(0);C&&(i.hostname=i.host=T?"":B.length?B.shift():"",(P=!!(i.host&&i.host.indexOf("@")>0)&&i.host.split("@"))&&(i.auth=P.shift(),i.host=i.hostname=P.shift()));return(x=x||i.host&&B.length)&&!T&&B.unshift(""),B.length?i.pathname=B.join("/"):(i.pathname=null,i.path=null),h.isNull(i.pathname)&&h.isNull(i.search)||(i.path=(i.pathname?i.pathname:"")+(i.search?i.search:"")),i.auth=t.auth||i.auth,i.slashes=i.slashes||t.slashes,i.href=i.format(),i},n.prototype.parseHost=function(){var t=this.host,e=r.exec(t);e&&(":"!==(e=e[0])&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)}},function(t,e,i){(function(t,s){var h;/*! https://mths.be/punycode v1.4.1 by @mathias */!function(n){e&&e.nodeType,t&&t.nodeType;var o="object"==typeof s&&s;o.global!==o&&o.window!==o&&o.self;var r,a=2147483647,c=36,d=1,u=26,p=38,l=700,g=72,y=128,f="-",m=/^xn--/,v=/[^\x20-\x7E]/,b=/[\x2E\u3002\uFF0E\uFF61]/g,w={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},x=c-d,S=Math.floor,B=String.fromCharCode;function C(t){throw new RangeError(w[t])}function k(t,e){for(var i=t.length,s=[];i--;)s[i]=e(t[i]);return s}function A(t,e){var i=t.split("@"),s="";return i.length>1&&(s=i[0]+"@",t=i[1]),s+k((t=t.replace(b,".")).split("."),e).join(".")}function M(t){for(var e,i,s=[],h=0,n=t.length;h<n;)(e=t.charCodeAt(h++))>=55296&&e<=56319&&h<n?56320==(64512&(i=t.charCodeAt(h++)))?s.push(((1023&e)<<10)+(1023&i)+65536):(s.push(e),h--):s.push(e);return s}function R(t){return k(t,(function(t){var e="";return t>65535&&(e+=B((t-=65536)>>>10&1023|55296),t=56320|1023&t),e+=B(t)})).join("")}function P(t,e){return t+22+75*(t<26)-((0!=e)<<5)}function T(t,e,i){var s=0;for(t=i?S(t/l):t>>1,t+=S(t/e);t>x*u>>1;s+=c)t=S(t/x);return S(s+(x+1)*t/(t+p))}function D(t){var e,i,s,h,n,o,r,p,l,m,v,b=[],w=t.length,x=0,B=y,k=g;for((i=t.lastIndexOf(f))<0&&(i=0),s=0;s<i;++s)t.charCodeAt(s)>=128&&C("not-basic"),b.push(t.charCodeAt(s));for(h=i>0?i+1:0;h<w;){for(n=x,o=1,r=c;h>=w&&C("invalid-input"),((p=(v=t.charCodeAt(h++))-48<10?v-22:v-65<26?v-65:v-97<26?v-97:c)>=c||p>S((a-x)/o))&&C("overflow"),x+=p*o,!(p<(l=r<=k?d:r>=k+u?u:r-k));r+=c)o>S(a/(m=c-l))&&C("overflow"),o*=m;k=T(x-n,e=b.length+1,0==n),S(x/e)>a-B&&C("overflow"),B+=S(x/e),x%=e,b.splice(x++,0,B)}return R(b)}function I(t){var e,i,s,h,n,o,r,p,l,m,v,b,w,x,k,A=[];for(b=(t=M(t)).length,e=y,i=0,n=g,o=0;o<b;++o)(v=t[o])<128&&A.push(B(v));for(s=h=A.length,h&&A.push(f);s<b;){for(r=a,o=0;o<b;++o)(v=t[o])>=e&&v<r&&(r=v);for(r-e>S((a-i)/(w=s+1))&&C("overflow"),i+=(r-e)*w,e=r,o=0;o<b;++o)if((v=t[o])<e&&++i>a&&C("overflow"),v==e){for(p=i,l=c;!(p<(m=l<=n?d:l>=n+u?u:l-n));l+=c)k=p-m,x=c-m,A.push(B(P(m+k%x,0))),p=S(k/x);A.push(B(P(p,0))),n=T(i,w,s==h),i=0,++s}++i,++e}return A.join("")}r={version:"1.4.1",ucs2:{decode:M,encode:R},decode:D,encode:I,toASCII:function(t){return A(t,(function(t){return v.test(t)?"xn--"+I(t):t}))},toUnicode:function(t){return A(t,(function(t){return m.test(t)?D(t.slice(4).toLowerCase()):t}))}},void 0===(h=function(){return r}.call(e,i,e,t))||(t.exports=h)}()}).call(this,i(2)(t),i(3))},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e){var i;i=function(){return this}();try{i=i||new Function("return this")()}catch(t){"object"==typeof window&&(i=window)}t.exports=i},function(t,e,i){"use strict";t.exports={isString:function(t){return"string"==typeof t},isObject:function(t){return"object"==typeof t&&null!==t},isNull:function(t){return null===t},isNullOrUndefined:function(t){return null==t}}},function(t,e,i){"use strict";e.decode=e.parse=i(6),e.encode=e.stringify=i(7)},function(t,e,i){"use strict";function s(t,e){return Object.prototype.hasOwnProperty.call(t,e)}t.exports=function(t,e,i,n){e=e||"&",i=i||"=";var o={};if("string"!=typeof t||0===t.length)return o;var r=/\+/g;t=t.split(e);var a=1e3;n&&"number"==typeof n.maxKeys&&(a=n.maxKeys);var c=t.length;a>0&&c>a&&(c=a);for(var d=0;d<c;++d){var u,p,l,g,y=t[d].replace(r,"%20"),f=y.indexOf(i);f>=0?(u=y.substr(0,f),p=y.substr(f+1)):(u=y,p=""),l=decodeURIComponent(u),g=decodeURIComponent(p),s(o,l)?h(o[l])?o[l].push(g):o[l]=[o[l],g]:o[l]=g}return o};var h=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}},function(t,e,i){"use strict";var s=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}};t.exports=function(t,e,i,r){return e=e||"&",i=i||"=",null===t&&(t=void 0),"object"==typeof t?n(o(t),(function(o){var r=encodeURIComponent(s(o))+i;return h(t[o])?n(t[o],(function(t){return r+encodeURIComponent(s(t))})).join(e):r+encodeURIComponent(s(t[o]))})).join(e):r?encodeURIComponent(s(r))+i+encodeURIComponent(s(t)):""};var h=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};function n(t,e){if(t.map)return t.map(e);for(var i=[],s=0;s<t.length;s++)i.push(e(t[s],s));return i}var o=Object.keys||function(t){var e=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.push(i);return e}},function(t,e,i){var s=i(9);"string"==typeof s&&(s=[[t.i,s,""]]);var h={insert:"head",singleton:!1};i(11)(s,h);s.locals&&(t.exports=s.locals)},function(t,e,i){(t.exports=i(10)(!1)).push([t.i,"h1, h2 {\n  font-family: Lato;\n}\n\n#app {\n  background-color: coral;\n}\n\n#gameCanvas {\n  background-color: black;\n  \n}\n\nhtml, body {\n  position: fixed;\n  margin: 0;\n  padding: 0;\n}\n\nhtml, body {\n  position: relative;\n  overflow: hidden;\n}\n\nbody {\n  position: fixed;\n  overflow: hidden;\n}\n\nbody {\n  position: fixed;\n  height: 100%;\n  overflow: hidden;\n  width: 100%;\n}\n\ncanvas {\n  margin: 0;\n  padding: 0;\n}",""])},function(t,e,i){"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var i=function(t,e){var i=t[1]||"",s=t[3];if(!s)return i;if(e&&"function"==typeof btoa){var h=(o=s,r=btoa(unescape(encodeURIComponent(JSON.stringify(o)))),a="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(r),"/*# ".concat(a," */")),n=s.sources.map((function(t){return"/*# sourceURL=".concat(s.sourceRoot).concat(t," */")}));return[i].concat(n).concat([h]).join("\n")}var o,r,a;return[i].join("\n")}(e,t);return e[2]?"@media ".concat(e[2],"{").concat(i,"}"):i})).join("")},e.i=function(t,i){"string"==typeof t&&(t=[[null,t,""]]);for(var s={},h=0;h<this.length;h++){var n=this[h][0];null!=n&&(s[n]=!0)}for(var o=0;o<t.length;o++){var r=t[o];null!=r[0]&&s[r[0]]||(i&&!r[2]?r[2]=i:i&&(r[2]="(".concat(r[2],") and (").concat(i,")")),e.push(r))}},e}},function(t,e,i){"use strict";var s,h={},n=function(){return void 0===s&&(s=Boolean(window&&document&&document.all&&!window.atob)),s},o=function(){var t={};return function(e){if(void 0===t[e]){var i=document.querySelector(e);if(window.HTMLIFrameElement&&i instanceof window.HTMLIFrameElement)try{i=i.contentDocument.head}catch(t){i=null}t[e]=i}return t[e]}}();function r(t,e){for(var i=[],s={},h=0;h<t.length;h++){var n=t[h],o=e.base?n[0]+e.base:n[0],r={css:n[1],media:n[2],sourceMap:n[3]};s[o]?s[o].parts.push(r):i.push(s[o]={id:o,parts:[r]})}return i}function a(t,e){for(var i=0;i<t.length;i++){var s=t[i],n=h[s.id],o=0;if(n){for(n.refs++;o<n.parts.length;o++)n.parts[o](s.parts[o]);for(;o<s.parts.length;o++)n.parts.push(f(s.parts[o],e))}else{for(var r=[];o<s.parts.length;o++)r.push(f(s.parts[o],e));h[s.id]={id:s.id,refs:1,parts:r}}}}function c(t){var e=document.createElement("style");if(void 0===t.attributes.nonce){var s=i.nc;s&&(t.attributes.nonce=s)}if(Object.keys(t.attributes).forEach((function(i){e.setAttribute(i,t.attributes[i])})),"function"==typeof t.insert)t.insert(e);else{var h=o(t.insert||"head");if(!h)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");h.appendChild(e)}return e}var d,u=(d=[],function(t,e){return d[t]=e,d.filter(Boolean).join("\n")});function p(t,e,i,s){var h=i?"":s.css;if(t.styleSheet)t.styleSheet.cssText=u(e,h);else{var n=document.createTextNode(h),o=t.childNodes;o[e]&&t.removeChild(o[e]),o.length?t.insertBefore(n,o[e]):t.appendChild(n)}}function l(t,e,i){var s=i.css,h=i.media,n=i.sourceMap;if(h&&t.setAttribute("media",h),n&&btoa&&(s+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(n))))," */")),t.styleSheet)t.styleSheet.cssText=s;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(s))}}var g=null,y=0;function f(t,e){var i,s,h;if(e.singleton){var n=y++;i=g||(g=c(e)),s=p.bind(null,i,n,!1),h=p.bind(null,i,n,!0)}else i=c(e),s=l.bind(null,i,e),h=function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(i)};return s(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;s(t=e)}else h()}}t.exports=function(t,e){(e=e||{}).attributes="object"==typeof e.attributes?e.attributes:{},e.singleton||"boolean"==typeof e.singleton||(e.singleton=n());var i=r(t,e);return a(i,e),function(t){for(var s=[],n=0;n<i.length;n++){var o=i[n],c=h[o.id];c&&(c.refs--,s.push(c))}t&&a(r(t,e),e);for(var d=0;d<s.length;d++){var u=s[d];if(0===u.refs){for(var p=0;p<u.parts.length;p++)u.parts[p]();delete h[u.id]}}}}},function(t,e,i){"use strict";i.r(e);const s=3,h=1,n={flagDebug:!1,debugLevel:2},o=30,r=10,a=10,c=5,d={enemySpeedSpawn:90},u={shieldPackSpeedSpawn:1e3};i(0);function p(t,e,i=0,s=0){isNaN(t)||isNaN(e)?console.error("x and y must be valid integers"):(this.x=t||0,this.y=e||0,this.origin=!1),isNaN(i)||isNaN(s)||0==i||0==s||(this.refX=i,this.refY=s,this.origin=!0)}function l(t,e){this.v1=t||new p(0,0),this.v2=e||new p(0,0)}function g(){}function y(){}function f(t,e,i,s=!1,h=!1,n){this.canvas=t,this.physicsBody=e,this.graphicsBody=i,this.x=e.center.x,this.y=e.center.y,this.angle=0,this.oppositeAngle=0,this.directionAngle=0,this.offset=0,this.backPosition=new p(0,0),this.animateUnit=s,this.animateTile=0,this.animateTileMax=6,this.debug=n,this.debug.flagDebug&&(this.segment=new l(e.center,e.center))}function m(t,e,i,s){this.x=t||0,this.y=e||0,this.width=i||0,this.height=s||0}function v(t,e,i){this.x=t||0,this.y=e||0,this.radius=i||0,this.boundingCirc=this,this.boundingRect=new m(this.x,this.y,2*this.radius,2*this.radius)}p.sum=function(t,e){return new p(t.x+e.x,t.y+e.y)},p.substract=function(t,e){return new p(t.x-e.x,t.y-e.y)},p.dotProduct=function(t,e){return new p(t.x*e.x,t.y*e.y)},p.scalarProduct=function(t,e){return t.x*e.x+t.y*e.y},p.divide=function(t,e){return new p(t.x/e.x,t.y/e.y)},p.distance=function(t,e){return Math.sqrt((t.x-e.x)**2+(t.y-e.y)**2)},p.clone=function(){return new Vector(this.x,this.y)},p.prototype.scale=function(t){isFinite(t)?(this.x=this.x*t,this.y=this.y*t):(this.x=0,this.y=0)},p.prototype.normalize=function(){var t=this.x**2+this.y**2;return t>0&&(t=1/Math.sqrt(t),this.x*=t,this.y*=t),this},p.prototype.update=function(t){this.x=t.x,this.y=t.y},p.prototype.render=function(t,e,i){e.strokeStyle=i,e.beginPath(),e.moveTo(t.x,t.y),e.lineTo(this.x,this.y),e.stroke(),e.closePath()},Object.defineProperties(p.prototype,{center:{get:function(){return this}},magnitude:{get:function(){return Math.sqrt(this.x**2+this.y**2)},set:function(t=0){this.x*=t/this.magnitude,this.y*=t/this.magnitude}}}),l.prototype.scale=function(t){isFinite(t)?(this.v1.x=this.v1.x*t,this.v1.y=this.v1.y*t,this.v2.x=this.v2.x*t,this.v2.y=this.v2.y*t):(this.v1.x=0,this.v1.y=0,this.v2.x=0,this.v2.y=0)},l.prototype.update=function(t,e){this.v1=t,this.v2=e},l.prototype.render=function(t,e){t.strokeStyle=e,t.beginPath(),t.moveTo(this.v1.x,this.v1.y),t.lineTo(this.v2.x,this.v2.y),t.stroke(),t.closePath()},Object.defineProperties(l.prototype,{magnitude:{get:function(){return Math.sqrt(this.v2.x**2+this.v2.y**2)-Math.sqrt(this.v1.x**2+this.v2.y**2)}}}),g.angleFromDirection=function(t,e){var i=e.x-t.x,s=e.y-t.y;return Math.atan2(s,i)},g.oppositeAngleFromDirection=function(t,e){var i=t.x-e.x,s=t.y-e.y;return Math.atan2(s,i)},y.rectsCollision=function(t,e){return t.x<e.x+e.width&&t.x+t.width>e.x&&t.y<e.y+e.height&&t.y+t.height>e.y},y.circlesCollision=function(t,e){let i=t.radius+e.radius,s=Math.abs(t.x-e.x),h=Math.abs(t.y-e.y);return i>Math.sqrt(s*s+h*h)},y.rectCircleCollision=function(t,e){let i=Math.abs(e.x-t.x-t.width/2),s=Math.abs(e.y-t.y-t.height/2);if(i>t.width/2+e.radius)return!1;if(s>t.height/2+e.radius)return!1;if(i<=t.width/2)return!0;if(s<=t.heigh/2)return!0;let h=i-t.width/2,n=s-t.height/2;return h*h+n*n<=e.radius*e.radius},y.vector2CircleCollision=function(t,e){let i=Math.abs(e.x-t.x),s=Math.abs(e.y-t.y);return e.radius>Math.sqrt(i*i+s*s)},y.circleCanvasCollision=function(t,e){return t.x+t.radius>e.width||t.x-t.radius<0||t.y+t.radius>e.height||t.y-t.radius<0},f.prototype.teleport=function(t){this.x=t.x,this.y=t.y},f.prototype.moveLerp=function(t,e){this.x+=(t.x-this.physicsBody.center.x)*e,this.y+=(t.y-this.physicsBody.center.y)*e,this.lerpAngle(t,e)},f.prototype.moveNoLerp=function(t,e,i){this.x+=t.normalize().x*i,this.y+=t.normalize().y*i,this.angle=e},f.prototype.moveCollideWithCanvas=function(t,e){this.physicsBody.center.x-this.physicsBody.radius<=0&&this.physicsBody.center.y-this.physicsBody.radius<=0?(t.x=this.physicsBody.radius,t.y=this.physicsBody.radius,this.angle=e,this.moveCollision(t)):this.physicsBody.center.x+this.physicsBody.radius>=this.canvas.width&&this.physicsBody.center.y-this.physicsBody.radius<=0?(t.x=this.canvas.width-this.physicsBody.radius,t.y=this.physicsBody.radius,this.angle=e,this.moveCollision(t)):this.physicsBody.center.x-this.physicsBody.radius<=0&&this.physicsBody.center.y+this.physicsBody.radius>=this.canvas.height?(t.x=this.physicsBody.radius,t.y=this.canvas.height-this.physicsBody.radius,this.moveCollision(t),this.angle=e):this.physicsBody.center.x+this.physicsBody.radius>=this.canvas.width&&this.physicsBody.center.y+this.physicsBody.radius>=this.canvas.height&&(t.x=this.canvas.width-this.physicsBody.radius,t.y=this.canvas.height-this.physicsBody.radius,this.moveCollision(t),this.angle=e),this.physicsBody.center.x-this.physicsBody.radius<=0?(t.x=this.physicsBody.radius,this.moveCollisionX(t,.02),this.angle=e):this.physicsBody.center.x+this.physicsBody.radius>=this.canvas.width?(t.x=this.canvas.width-this.physicsBody.radius,this.moveCollisionX(t,.02),this.angle=e):this.physicsBody.center.y-this.physicsBody.radius<=0?(t.y=this.physicsBody.radius,this.moveCollisionY(t,.02),this.angle=e):this.physicsBody.center.y+this.physicsBody.radius>=this.canvas.height&&(t.y=this.canvas.height-this.physicsBody.radius,this.moveCollisionY(t,.02),this.angle=e)},f.prototype.moveCollisionX=function(t,e){this.x=t.x,this.y+=(t.y-this.physicsBody.center.y)*e},f.prototype.moveCollisionY=function(t,e){this.x+=(t.x-this.physicsBody.center.x)*e,this.y=t.y},f.prototype.moveCollision=function(t){this.x=t.x,this.y=t.y},f.prototype.lerpAngle=function(t,e){this.angle=g.angleFromDirection(this.physicsBody.center,t),this.oppositeAngle=g.oppositeAngleFromDirection(this.physicsBody.center,t)},f.prototype.update=function(t=null,e=null,i=null){t&&e?(this.physicsBody.update(t),this.angle=e):this.physicsBody.update(this.center),this.debug.flagDebug&&this.segment.update(this.physicsBody.center,this.vectorAngle),i&&(this.offset=i),this.backPosition=this.oppositeVectorAngle},f.prototype.unitAnimation=function(){this.animateTile++,this.animateTile>=this.animateTileMax&&(this.animateTile=0)},f.prototype.render=function(t){t.save(),t.translate(this.physicsBody.x,this.physicsBody.y),t.rotate(this.angle),this.physicsBody.radius?this.animateUnit?(t.drawImage(this.graphicsBody,this.graphicsBody.width/this.animateTileMax*this.animateTile,0,this.graphicsBody.width/this.animateTileMax,this.graphicsBody.height,-this.physicsBody.radius,-this.physicsBody.radius,this.physicsBody.boundingRect.width,this.physicsBody.boundingRect.height),this.unitAnimation()):t.drawImage(this.graphicsBody,-this.physicsBody.radius,-this.physicsBody.radius,this.physicsBody.boundingRect.width,this.physicsBody.boundingRect.height):t.drawImage(this.graphicsBody,0,0,this.physicsBody.width,this.physicsBody.height),t.restore(),this.debug.flagDebug&&(this.physicsBody.render(t,"blue"),this.debug.flagDebug&&this.segment.render(t,"blue"),this.debug.debugLevel>1&&this.physicsBody.center.render(new p(this.canvas.clientLeft,this.canvas.clientTop),t,"white"))},Object.defineProperties(f.prototype,{center:{get:function(){return new p(this.x,this.y)}},position:{get:function(){return new p(this.physicsBody.center.x,this.physicsBody.center.y)},set:function(t){this.physicsBody.center.x=t.x,this.physicsBody.center.y=t.y}},rotation:{get:function(){return 180*this.angle/Math.PI}},vectorAngle:{get:function(){if(this.physicsBody.radius)var t=this.physicsBody.radius*Math.cos(this.angle)+this.physicsBody.center.x,e=this.physicsBody.radius*Math.sin(this.angle)+this.physicsBody.center.y;else if(this.physicsBody.width>this.physicsBody.height)t=this.physicsBody.width/2*Math.cos(this.angle)+this.physicsBody.center.x,e=this.physicsBody.width/2*Math.sin(this.angle)+this.physicsBody.center.y;else t=this.physicsBody.height/2*Math.cos(this.angle)+this.physicsBody.center.x,e=this.physicsBody.height/2*Math.sin(this.angle)+this.physicsBody.center.y;return new p(t,e)},set:function(t){this.vectorAngle=t}},oppositeVectorAngle:{get:function(){if(this.physicsBody.radius)var t=(this.physicsBody.radius+this.offset)*Math.cos(this.oppositeAngle)+this.physicsBody.center.x,e=(this.physicsBody.radius+this.offset)*Math.sin(this.oppositeAngle)+this.physicsBody.center.y;else if(this.physicsBody.width>this.physicsBody.height)t=(this.physicsBody.width/2+this.offset)*Math.cos(this.oppositeAngle)+this.physicsBody.center.x,e=(this.physicsBody.width/2+this.offset)*Math.sin(this.oppositeAngle)+this.physicsBody.center.y;else t=(this.physicsBody.height/2+this.offset)*Math.cos(this.oppositeAngle)+this.physicsBody.center.x,e=(this.physicsBody.height/2+this.offset)*Math.sin(this.oppositeAngle)+this.physicsBody.center.y;return new p(t,e)}}}),m.prototype.scale=function(t){isFinite(t)?(this.x=this.x*t,this.y=this.y*t,this.width=this.width*t,this.height=this.height*t):(this.x=0,this.y=0)},m.prototype.update=function(t){this.x=t.x,this.y=t.y},m.prototype.render=function(t,e){t.strokeStyle=e,t.lineWidth=5,t.beginPath(),t.strokeRect(this.x,this.y,this.width,this.height),t.stroke(),t.closePath()},Object.defineProperties(m.prototype,{area:{get:function(){return this.width*this.height}},center:{get:function(){return new p(this.x+this.width/2,this.y+this.height/2)}}}),v.prototype.scale=function(t){isFinite(t)?(this.x=this.x*t,this.y=this.y*t,this.radius=this.radius*t):(this.x=0,this.y=0)},v.prototype.update=function(t){this.x=t.x,this.y=t.y},v.prototype.render=function(t,e){t.strokeStyle=e,t.lineWidth=5,t.beginPath(),t.arc(this.x,this.y,this.radius,0,2*Math.PI),t.stroke(),t.closePath()},Object.defineProperties(v.prototype,{area:{get:function(){return this.radius*this.radius*Math.PI}},diameter:{get:function(){return 2*this.radius}},circumference:{get:function(){return 2*Math.PI*this.radius}},center:{get:function(){return new p(this.x,this.y)}},randomPoint:{get:function(){let t=2*Math.random()*Math.PI,e=this.radius*Math.sqrt(Math.random());return new p(e*Math.cos(t)+this.center.x,e*Math.sin(t)+this.center.y)}}});var b=i.p+"88f1e89a8a30b15cdb041b879a12cadd.png",w=i.p+"bee9434ccd5b155955371486c1ff12cb.png",x=i.p+"5f7c88e8b053ce38814d93155f8a719b.png",S=0;function B(t,e,i,s,h,n){this.canvas=t,this.radius=4,this.baseDamage=10;let o=new v(e.x,e.y,this.radius),r=new Image(2*this.radius,2*this.radius);switch(s){case"red":r.src=x;break;case"green":r.src=w;break;default:r.src=b}this.gameComponent=new f(t,o,r,!1,!1,n),this.vector2Direction=new p.substract(i.gameComponent.physicsBody.center,o.center),Math.floor(2*Math.random())?(this.vector2Direction.x+=Math.round(100*Math.random()),this.vector2Direction.y+=Math.round(100*Math.random())):(this.vector2Direction.x-=Math.round(100*Math.random()),this.vector2Direction.y-=Math.round(100*Math.random())),this.angle=g.angleFromDirection(e,i.gameComponent.physicsBody.center),this.destroyed=!1,this.enemyArr=h,this.id=S++,this.debug=n}B.prototype.moveDirection=function(t){this.enemyArr.length&&null!=t&&this.enemyArr.forEach(t=>{y.circlesCollision(this.gameComponent.physicsBody,t.gameComponent.physicsBody)?(t.getHit(this.baseDamage),this.destroyed=!0):y.circleCanvasCollision(this.gameComponent.physicsBody,this.canvas)&&(this.destroyed=!0)}),"player"===t.id&&(y.circlesCollision(this.gameComponent.physicsBody,t.gameComponent.physicsBody)?(t.getHit(this.baseDamage),this.destroyed=!0):y.circleCanvasCollision(this.gameComponent.physicsBody,this.canvas)&&(this.destroyed=!0)),this.gameComponent.moveNoLerp(this.vector2Direction,this.angle,5)},B.prototype.update=function(){this.gameComponent.update()},B.prototype.render=function(t){this.gameComponent.render(t)};var C=i.p+"772654657d77ddba04a4e274300ce25b.png",k=i.p+"f5b2adf2a1e44aa08acbdf4e1846ab26.png",A=i.p+"431ba2a453686a660576666e18d93e96.png",M=i.p+"6187e2991ccbdafb05a515ae0562f28b.png",R=i.p+"987b7ca451717e7bc42b9a20b08a3a26.png",P=i.p+"b4c56d869b7c343119b4c96f5a2e239c.png",T=i.p+"7b97e219b741260cd1dd8dc2b1352639.png",D=i.p+"22ff7ff2693a1fe8ceeab0218312a28c.png",I=i.p+"f9b5266bf4e84d047af4ffd801211850.png",j=i.p+"ce89fe5a9dde010639b81344372de76f.png",E=i.p+"ad79d38a9043deb7fa2828094a2bdc6f.mp3",O=5;function H(t,e,i,s,h,n,o){this.canvas=t,this.radius=i;let r=new v(e.center.x,e.center.y,this.radius),a=new Image;switch(this.randomCannon=!1,this.laser=new Audio,this.laser.src=E,this.laser.played.time,n){case"player":a.src=C;break;case"enemy":switch(Math.floor(9*Math.random())){case 0:a.src=j;break;case 1:a.src=A;break;case 2:a.src=k;break;case 3:a.src=R;break;case 4:a.src=M;break;case 5:a.src=T;break;case 6:a.src=D;break;case 7:a.src=I;break;case 8:a.src=P}}this.gameComponent=new f(t,r,a,!1,this.randomCannon,o),this.flagFiring=!1,this.aggro=!1,this.fireRate=h,this.finalFireRate=O+300*Math.random()*this.fireRate,this.fireTimeCount=0,this.fireAngle=0,this.projectileColor=s,this.target=null,this.projectileArr=[],this.debug=o}H.prototype.fireAtTarget=function(t,e=[]){if(this.target=t,this.aggro=!0,void 0!==t)if(this.angleToTarget(t),this.flagFiring){var i=new B(this.canvas,this.gameComponent.physicsBody.center,t,this.projectileColor,e,this.debug);this.projectileArr.push(i),this.flagFiring=!1}else this.fireTimeCount++,this.fireTimeCount>=this.finalFireRate&&(this.finalFireRate=O+300*Math.random()*this.fireRate,this.flagFiring=!0,this.fireTimeCount=0)},H.prototype.angleToTarget=function(t){this.fireAngle=g.angleFromDirection(this.gameComponent.physicsBody.center,t.gameComponent.physicsBody.center)},H.prototype.update=function(t,e){if(this.aggro?this.gameComponent.update(t,this.fireAngle):this.gameComponent.update(t,e),this.projectileArr.length)for(let t=0;t<this.projectileArr.length;t++)this.projectileArr[t].destroyed?this.projectileArr.splice(t,1):(this.projectileArr[t].update(),this.projectileArr[t].moveDirection(this.target))},H.prototype.render=function(t){this.projectileArr.length&&this.projectileArr.forEach(e=>{e.render(t)}),this.gameComponent.render(t)};var F=i.p+"faf1fcde2f4243d1105397c1d1ec7479.png";function L(t,e,i,s){this.physicsBody=t,this.startHealth=e,this.currentHealth=e,this.currentHealthPourcent=100,this.currentShield=i,this.debug=s}L.prototype.updateHealthAndShield=function(t,e){this.currentHealth=t,this.currentShield=e},L.prototype.displayHealth=function(){return this.currentHealthPourcent=100*this.currentHealth/this.startHealth,2*Math.PI*(this.currentHealthPourcent/100)},L.prototype.displayShield=function(){return this.currentShield*(2*Math.PI/100)},L.prototype.update=function(t){this.physicsBody=t},L.prototype.render=function(t){t.strokeStyle="rgba(0, 255, 0, 1)",t.lineWidth=4,t.beginPath(),t.arc(this.physicsBody.center.x,this.physicsBody.center.y,this.physicsBody.radius+t.lineWidth,0,this.displayHealth()),t.stroke(),t.closePath(),t.strokeStyle="rgba(65, 93, 246, 1)",t.lineWidth=4,t.beginPath(),t.arc(this.physicsBody.center.x,this.physicsBody.center.y,this.physicsBody.radius+t.lineWidth,0,this.displayShield()),t.stroke(),t.closePath()};var X=i.p+"81eacd5d08421e92f262b70dc2c4c644.png";function W(t,e,i,s){this.width=160,this.height=80,this.angle=i,this.offset=20;let h=new m(e.center.x-e.radius,e.center.y,this.width,this.height),n=new Image(this.width,this.height);n.src=X,n.animate=!0,this.gameComponent=new f(t,h,n,!1,!1,s),this.debug=s}W.prototype.update=function(t,e){this.gameComponent.update(t,e)},W.prototype.render=function(t){this.gameComponent.render(t)};var q="player";function Y(t,e,i,s){this.canvas=t,this.id=q,this.width=100*i,this.height=100*i,this.radius=25*i,this.health=100,this.shield=100,this.score=0;let h=new v(e.x,e.y,this.radius),n=new Image;n.src=F,this.gameComponent=new f(t,h,n,!0,!1,s),this.aggroRadius=new v(h.center.x,h.center.y,400),this.satelliteRadius=new v(h.center.x,h.center.y,200),this.cannon=new H(t,h,15,"green",5e-6,"player",s),this.uiHealth=new L(h,this.health,this.shield,s),this.aggro=!1,this.enemyInAggroArr=[],this.flagEnemyInAggroRadius=!1,this.destroyed=!1,this.startGamePos=new p(this.canvas.width/2,this.canvas.height/2),this.vector0=new p(0,0),this.debug=s}Y.prototype.moveTouch=function(t){y.circleCanvasCollision(this.gameComponent.physicsBody,this.canvas)?this.gameComponent.moveCollideWithCanvas(t,this.gameComponent.angle):this.gameComponent.moveLerp(t,.02)},Y.prototype.reachStartPos=function(){return this.gameComponent.moveLerp(this.startGamePos,.02),parseInt(this.gameComponent.physicsBody.y)==parseInt(this.canvas.height/2)},Y.prototype.detectTargetInAggroRadius=function(t){t.forEach(t=>{if(y.circlesCollision(this.aggroRadius,t.gameComponent.physicsBody))this.enemyInAggroArr.includes(t.id)||this.enemyInAggroArr.push(t.id);else if(this.enemyInAggroArr.includes(t.id)){var e=this.enemyInAggroArr.indexOf(t.id);this.enemyInAggroArr.splice(e,1)}}),0!==this.enemyInAggroArr.length?this.attackTargetInAggroRadius(t):this.stopAggro()},Y.prototype.attackTargetInAggroRadius=function(t){if(0!==t.length){this.aggro=!0,this.cannon.aggro=!0;var e=null;t.forEach(t=>{this.enemyInAggroArr[0]==t.id&&(e=t)}),null==e&&(console.log("bug !"),this.stopAggro()),this.cannon.fireAtTarget(e,t)}else this.stopAggro()},Y.prototype.stopAggro=function(){this.aggro=!1,this.cannon.aggro=!1,this.enemyInAggroArr=[]},Y.prototype.getHit=function(t){this.shield>0?(this.shield-=t/2,this.score-=5):(this.shield=0,this.health-=t,this.score-=15,this.health<=0&&(this.health=0,this.destroyed=!0))},Y.prototype.regenerateHealth=function(){this.health<100&&(this.health+=.1,this.health>=100&&(this.health=100))},Y.prototype.gainShield=function(t){this.shield<100&&(this.shield+=t,this.shield>=100&&(this.shield=100))},Y.prototype.update=function(t){this.detectTargetInAggroRadius(t),this.regenerateHealth(),this.gameComponent.update(null,null,this.reactorOffset),this.aggroRadius.update(this.gameComponent.physicsBody),this.satelliteRadius.update(this.gameComponent.physicsBody),this.cannon.update(this.gameComponent.physicsBody,this.gameComponent.angle),this.uiHealth.update(this.gameComponent.physicsBody),this.uiHealth.updateHealthAndShield(this.health,this.shield)},Y.prototype.render=function(t){this.destroyed||(this.gameComponent.render(t),this.cannon.render(t),this.uiHealth.render(t),this.debug.flagDebug&&(this.satelliteRadius.render(t,"yellow"),this.aggro?this.aggroRadius.render(t,"green"):this.aggroRadius.render(t,"red")))};var z=i.p+"52066faa494a41ab2addb424c1eb1ced.png",N=0;function U(t,e,i){this.canvas=t,this.radius=15,this.health=200,this.shield=0,this.score=0,this.id=N++;let s=new v(e.x,e.y,this.radius,!0),h=new Image;h.src=z,this.gameComponent=new f(t,s,h,!0,!1,i),this.aggroRadius=new v(s.x,s.y,300),this.satelliteRadius=new v(s.x,s.y,100),this.cannon=new H(t,s,8,"red",.1,"enemy",i),this.uiHealth=new L(s,this.health,this.shield,i),this.aggro=!1,this.satellite=!1,this.reachStartPos=!1,this.reachRandPos=!1;let n=Math.round(Math.random()*(this.canvas.width-2*this.gameComponent.physicsBody.radius))+this.gameComponent.physicsBody.radius,o=Math.round(Math.random()*(this.canvas.height-2*this.gameComponent.physicsBody.radius))+this.gameComponent.physicsBody.radius;this.randomPosInCanvas=new p(n,o),this.randomPos=this.aggroRadius.randomPoint,this.destroyed=!1,this.debug=i}function $(t){this.canvas=t,this.scoreString="Score : ",this.score=0}U.prototype.moveStartPos=function(t){this.gameComponent.moveLerp(this.randomPosInCanvas,.005),this.aggro&&void 0!==t?(this.reachStartPos=!0,this.moveToTarget(t)):p.distance(this.randomPosInCanvas,this.gameComponent.physicsBody.center)<=1&&(this.reachStartPos=!0)},U.prototype.move=function(t){this.aggro||void 0===t?this.moveToTarget(t):this.moveRandom()},U.prototype.moveInCanvas=function(){this.randomPos=this.aggroRadius.randomPoint,this.reachRandPos=!1,this.randomPos.x<this.canvas.width&&this.randomPos.x>0&&this.randomPos.y<this.canvas.height&&this.randomPos.y<0?(this.reachRandPos=!0,this.moveRandom()):(this.randomPos=this.aggroRadius.randomPoint,this.reachRandPos=!1)},U.prototype.moveRandom=function(){this.reachRandPos?(this.randomPos=this.aggroRadius.randomPoint,this.reachRandPos=!1):(y.circleCanvasCollision(this.gameComponent.physicsBody,this.canvas)?(this.gameComponent.moveCollideWithCanvas(this.randomPos),this.reachRandPos=!0):this.gameComponent.moveLerp(this.randomPos,.02),parseInt(this.randomPos.x)!=parseInt(this.gameComponent.physicsBody.x)&&parseInt(this.randomPos.y)!=parseInt(this.gameComponent.physicsBody.y)||(this.reachRandPos=!0)),this.cannon.aggro=!1},U.prototype.moveToTarget=function(t){this.cannon.fireAtTarget(t),y.vector2CircleCollision(this.gameComponent.physicsBody.center,t.satelliteRadius)?this.moveSatellite(t.aggroRadius):this.gameComponent.moveLerp(t.gameComponent.physicsBody.center,.01)},U.prototype.moveSatellite=function(t){this.gameComponent.physicsBody.x,Math.cos(this.gameComponent.angle),this.gameComponent.physicsBody.y,Math.sin(this.gameComponent.angle)},U.prototype.detectTargetInAggroRadius=function(t){y.circlesCollision(this.aggroRadius,t.gameComponent.physicsBody)?(this.aggro=!0,this.randomPos=this.aggroRadius.randomPoint):this.aggro=!1},U.prototype.getHit=function(t){this.shield>0?(this.shield-=t/2,this.score+=1):(this.shield=0,this.score+=2,this.health-=t,this.health<=0&&(this.health=0,this.destroyed=!0))},U.prototype.update=function(t){this.destroyed||(this.detectTargetInAggroRadius(t),this.gameComponent.update(null,null,this.reactorOffset),this.aggroRadius.update(this.gameComponent.physicsBody),this.satelliteRadius.update(this.gameComponent.physicsBody),this.cannon.update(this.gameComponent.physicsBody,this.gameComponent.angle),this.uiHealth.update(this.gameComponent.physicsBody),this.uiHealth.updateHealthAndShield(this.health,this.shield))},U.prototype.render=function(t){this.destroyed||(this.uiHealth.render(t),this.gameComponent.render(t),this.cannon.render(t),this.debug.flagDebug&&(this.satelliteRadius.render(t,"yellow"),this.aggro?this.aggroRadius.render(t,"green"):this.aggroRadius.render(t,"red")))},$.prototype.scoreStringTotalWdith=function(){return 10*(this.scoreString.length+this.score.toString().length)},$.prototype.update=function(t){t&&(this.score=t)},$.prototype.render=function(t){t.fillStyle="white",t.font="bold 32px Monospace",t.fillText(`${this.scoreString+this.score}`,this.canvas.width/2-this.scoreStringTotalWdith(),50)};var G=i.p+"1dcca91fb58d16340896cba3540b7a72.png";function _(t,e){this.canvas=t,this.backgroundGraphicsBody=new Image,this.backgroundGraphicsBody.src=G,this.backgroundWidth=507,this.backgroundHeight=512,this.gameSpeed=e,this.backgroundSpeed=this.randomSpeed(e),this.ratioW=this.backgroundWidth/this.canvas.width,this.ratioH=this.backgroundHeight/this.canvas.height,this.backgroundSX=this.offsetSX(),this.backgroundSY=0,this.backgroundDX=this.offsetDX(),this.backgroundDY=-this.backgroundHeight}_.prototype.randomSpeed=function(t){return t*Math.round(2*Math.random())+2},_.prototype.offsetSX=function(){return Math.floor(3*Math.random())*this.backgroundWidth},_.prototype.offsetDX=function(){return Math.random()*this.canvas.width-this.backgroundWidth/2},_.prototype.update=function(){this.backgroundDY+=this.backgroundSpeed,this.backgroundDY>=this.canvas.height+2*this.backgroundHeight&&(this.backgroundSX=this.offsetSX(),this.backgroundDX=this.offsetDX(),this.backgroundDY=-this.backgroundHeight,this.backgroundSpeed=this.randomSpeed(this.gameSpeed))},_.prototype.render=function(t){t.drawImage(this.backgroundGraphicsBody,this.backgroundSX,this.backgroundSY,this.backgroundWidth,this.backgroundHeight,this.backgroundDX,this.backgroundDY,this.backgroundWidth,this.backgroundHeight)};var V=i.p+"84efea0cdc51ec53b238a65b3ab3a29c.png";function J(t,e){this.canvas=t,this.gameSpeed=e,this.backgroundGraphicsBody=new Image,this.backgroundGraphicsBody.src=V,this.backgroundWidth=58,this.backgroundHeight=64,this.randomSize=this.returnRandomSize(),this.gameSpeed=e,this.backgroundSpeed=this.randomSpeed(e),this.ratioW=this.backgroundWidth/this.canvas.width,this.ratioH=this.backgroundHeight/this.canvas.height,this.backgroundSX=this.offsetSX(),this.backgroundSY=0,this.backgroundDX=this.offsetDX(),this.backgroundDY=-this.backgroundHeight}J.prototype.returnRandomSize=function(){return Math.floor(4*Math.random())+4},J.prototype.randomSpeed=function(t){return t*Math.round(8*Math.random())+1},J.prototype.offsetSX=function(){return Math.floor(4*Math.random())*this.backgroundWidth},J.prototype.offsetDX=function(){return Math.random()*this.canvas.width-this.backgroundWidth/2},J.prototype.update=function(){this.backgroundDY+=this.backgroundSpeed,this.backgroundDY>=this.canvas.height+2*this.backgroundHeight&&(this.randomSize=this.returnRandomSize(),this.backgroundSX=this.offsetSX(),this.backgroundDX=this.offsetDX(),this.backgroundDY=-this.backgroundHeight,this.backgroundSpeed=this.randomSpeed(this.gameSpeed))},J.prototype.render=function(t){t.drawImage(this.backgroundGraphicsBody,this.backgroundSX,this.backgroundSY,this.backgroundWidth,this.backgroundHeight,this.backgroundDX,this.backgroundDY,this.backgroundWidth/this.randomSize,this.backgroundHeight/this.randomSize)};var K=i.p+"582a0e1eee2afc28f99d4b171dc4454f.png";function Z(t,e){this.canvas=t,this.gameSpeed=e,this.backgroundGraphicsBody=new Image,this.backgroundGraphicsBody.src=K,this.backgroundWidth=2048,this.backgroundHeight=2048,this.randomSize=this.returnRandomSize(),this.randomRotation=this.returnRandomRotation(),this.gameSpeed=e,this.backgroundSpeed=this.randomSpeed(e),this.ratioW=this.backgroundWidth/this.canvas.width,this.ratioH=this.backgroundHeight/this.canvas.height,this.backgroundSX=this.offsetSX(),this.backgroundSY=0,this.backgroundDX=this.offsetDX(),this.backgroundDY=-this.backgroundHeight}function Q(t,e,i,s,h,n){this.canvas=t,this.gameSpeed=n,this.backgroundPlanets=new _(t,n),this.starsBackgroundArr=[];for(let i=0;i<e;i++)this.starsBackgroundArr.push(new J(t,n));this.starsForegroundArr=[];for(let e=0;e<i;e++)this.starsForegroundArr.push(new J(t,n));this.fogsBackgroundArr=[];for(let e=0;e<s;e++)this.fogsBackgroundArr.push(new Z(t,n));this.fogsForegroundArr=[];for(let e=0;e<h;e++)this.fogsForegroundArr.push(new Z(t,n))}function tt(t,e,i,s,h){this.canvas=t,this.text=e,this.targetPos=i,this.fontSize=s,this.destroyed=!1,this.debug=h}Z.prototype.returnRandomRotation=function(){return Math.floor(360*Math.random())*(Math.PI/180)},Z.prototype.returnRandomSize=function(){return Math.floor(2*Math.random())+1},Z.prototype.randomSpeed=function(t){return t*Math.round(3*Math.random())+1},Z.prototype.offsetSX=function(){return Math.floor(3*Math.random())*this.backgroundWidth},Z.prototype.offsetDX=function(){return Math.random()*this.canvas.width-this.backgroundWidth/2},Z.prototype.update=function(){this.backgroundDY+=this.backgroundSpeed,this.backgroundDY>=this.canvas.height+2*this.backgroundHeight&&(this.randomRotation=this.returnRandomRotation(),this.randomSize=this.returnRandomSize(),this.backgroundSX=this.offsetSX(),this.backgroundDX=this.offsetDX(),this.backgroundDY=-this.backgroundHeight,this.backgroundSpeed=this.randomSpeed(this.gameSpeed))},Z.prototype.render=function(t){t.drawImage(this.backgroundGraphicsBody,this.backgroundSX,this.backgroundSY,this.backgroundWidth,this.backgroundHeight,this.backgroundDX,this.backgroundDY,this.backgroundWidth/this.randomSize,this.backgroundHeight/this.randomSize)},Q.prototype.setOffset=function(t){return this.canvas.height-t},Q.prototype.update=function(){this.starsBackgroundArr.forEach(t=>{t.update()}),this.starsForegroundArr.forEach(t=>{t.update()}),this.fogsBackgroundArr.forEach(t=>{t.update()}),this.fogsForegroundArr.forEach(t=>{t.update()}),this.backgroundPlanets.update()},Q.prototype.render=function(t){this.starsBackgroundArr.forEach(e=>{e.render(t)}),this.fogsBackgroundArr.forEach(e=>{e.render(t)}),this.backgroundPlanets.render(t),this.starsForegroundArr.forEach(e=>{e.render(t)}),this.fogsForegroundArr.forEach(e=>{e.render(t)})},tt.prototype.stringTotalWdith=function(){return this.text.length*this.fontSize/3.5},tt.prototype.changeText=function(t){this.text=t},tt.prototype.update=function(){},tt.prototype.destroy=function(){this.destroyed=!0},tt.prototype.render=function(t){t.fillStyle="rgba(100, 100, 255, 1)",t.font=`bold ${this.fontSize}px Monospace`,t.fillText(`${this.text}`,this.canvas.width/2-this.stringTotalWdith(),this.canvas.height/2-200)};var et=i.p+"842453cd13c4cc6a15c534e0c299907d.png";function it(t,e){this.canvas=t,this.radius=16;let i=Math.round(Math.random()*(this.canvas.width-2*this.radius))+this.radius,s=new Image;s.src=et;let h=new v(i,2*-this.radius,this.radius);this.gameComponent=new f(t,h,s,!1,!1,e),this.topPosition=new p(i,2*-this.radius),this.bottomPosition=new p(i,this.canvas.height+2*this.radius),this.vector2Direction=p.substract(this.bottomPosition,this.topPosition),this.shieldAmount=25,this.destroyed=!1,this.debug=e}it.prototype.move=function(t){y.circlesCollision(this.gameComponent.physicsBody,t.gameComponent.physicsBody)?(t.gainShield(this.shieldAmount),this.destroyed=!0):this.gameComponent.y>=this.bottomPosition?this.destroyed=!0:this.gameComponent.moveNoLerp(this.vector2Direction,0,5)},it.prototype.update=function(){this.gameComponent.update()},it.prototype.render=function(t){this.gameComponent.render(t)};var st=i.p+"b7fd6ad0897161351ae7f60114503dcb.jpg",ht=i.p+"50422eb553878ceebd05e03cf7a1a6ef.mp3",nt=new p(0,0);function ot(t){this.canvas=t,this.ctx=t.getContext("2d"),this.ctxBlackScreen=t.getContext("2d"),this.ctxText=t.getContext("2d"),this.ctxMenu=t.getContext("2d"),this.ctxMenuRestart=t.getContext("2d"),this.startTime=-1,this.animationLength=2e3,this.rafID=null,this.playerReachStartPos=!1,this.initPos=new p(0,0),this.rulesImage=new Image,this.rulesImage.src=st,this.totalScore=0,this.buttonShowDebug=!1,this.buttonArr=[],this.spawnEnemyTimer=d.enemySpeedSpawn,this.spawnShieldPackTimer=u.shieldPackSpeedSpawn}function rt(t){var e=t.pageX-this.offsetLeft,i=t.pageY-this.offsetTop;this.buttons.forEach(t=>{i>t.top&&i<t.top+t.height&&e>t.left&&e<t.left+t.width&&t.click()})}function at(t){var e=t.pageX-this.offsetLeft,i=t.pageY-this.offsetTop;this.buttons.forEach(t=>{i>t.top&&i<t.top+t.height&&e>t.left&&e<t.left+t.width&&t.hover()})}function ct(t){t.preventDefault(),t=t.touches[0],nt=new p(t.pageX,t.pageY)}function dt(t){t.preventDefault(),nt=new p(t.pageX,t.pageY)}ot.prototype.menuScreen=function(){this.ctxMenu.clearRect(0,0,this.canvas.width,this.canvas.height),this.buttonArr=[];let t={width:300,height:100,left:0,top:0,text:"Start",render:function(t){t.fillStyle="#372F3F",t.fillRect(this.left,this.top,this.width,this.height),t.font="bold 32px Monospace",t.fillStyle="grey",t.fillText(`${this.text}`,this.left+this.width/2-50,this.top+this.height/2+10)},center:function(t){this.left=t.width/2-this.width/2,this.top=50},click:()=>{this.ctxMenu.clearRect(0,0,this.canvas.width,this.canvas.height),this.canvas.removeEventListener("click",rt),this.canvas.removeEventListener("mouseover",at),this.buttonArr=[],this.start()},hover:()=>{this.ctxMenu.clearRect(0,0,this.canvas.width,this.canvas.height),this.ctxMenu.fillStyle="#372F00",this.ctxMenu.fillRect(this.left,this.top,this.width,this.height),this.ctxMenu.font="bold 32px Monospace",this.ctxMenu.fillStyle="white",this.ctxMenu.fillText(`${this.text}`,this.left+this.width/2-50,this.top+this.height/2+10)}};this.buttonArr.push(t);let e={width:300,height:100,left:0,top:0,text:"Show debug",showDebug:this.buttonShowDebug,render:function(t){this.showDebug?(this.showDebug=!this.showDebug,t.fillStyle="green",t.fillRect(this.left,this.top,this.width,this.height),t.font="bold 32px Monospace",t.fillStyle="grey",t.fillText(`${this.text}`,this.left+this.width/2-97,this.top+this.height/2+10)):(this.showDebug=!this.showDebug,t.fillStyle="#372F3F",t.fillRect(this.left,this.top,this.width,this.height),t.font="bold 32px Monospace",t.fillStyle="grey",t.fillText(`${this.text}`,this.left+this.width/2-97,this.top+this.height/2+10))},center:function(t){this.left=t.width/2-this.width/2,this.top=200},click:()=>{this.buttonShowDebug=!this.buttonShowDebug,n.flagDebug=this.buttonShowDebug,this.buttonArr.forEach(t=>{t.render(this.ctxMenu)})},hover:()=>{this.ctxMenu.clearRect(0,0,this.canvas.width,this.canvas.height),this.ctxMenu.fillStyle="#372F00",this.ctxMenu.fillRect(this.left,this.top,this.width,this.height),this.ctxMenu.font="bold 32px Monospace",this.ctxMenu.fillStyle="white",this.ctxMenu.fillText(`${this.text}`,this.left+this.width/2-50,this.top+this.height/2+10)}};this.buttonArr.push(e),this.buttonArr.forEach(t=>{t.center(this.canvas),t.render(this.ctxMenu)}),this.canvas.buttons=this.buttonArr,this.canvas.addEventListener("click",rt),this.canvas.addEventListener("mouseover",at),window.addEventListener("resize",()=>{this.buttonArr.forEach(t=>{t.center(this.canvas),t.render(this.ctxMenu)})})},ot.prototype.restartScreen=function(){this.ctxMenuRestart.clearRect(0,0,this.canvas.width,this.canvas.height),this.buttonArr=[];let t={width:300,height:100,left:0,top:0,text:"Restart",render:function(t){t.fillStyle="#372F3F",t.fillRect(this.left,this.top,this.width,this.height),t.font="bold 32px Monospace",t.fillStyle="grey",t.fillText(`${this.text}`,this.left+this.width/2-70,this.top+this.height/2+10)},center:function(t){this.left=t.width/2-this.width/2,this.top=50},click:()=>{this.ctxMenuRestart.clearRect(0,0,this.canvas.width,this.canvas.height),this.canvas.removeEventListener("click",rt),this.canvas.removeEventListener("mouseover",at),this.buttonArr=[],this.start()},hover:()=>{this.ctxMenuRestart.clearRect(0,0,this.canvas.width,this.canvas.height),this.ctxMenuRestart.fillStyle="#372F00",this.ctxMenuRestart.fillRect(this.left,this.top,this.width,this.height),this.ctxMenuRestart.font="bold 32px Monospace",this.ctxMenuRestart.fillStyle="white",this.ctxMenuRestart.fillText(`${this.text}`,this.left+this.width/2-70,this.top+this.height/2+10)}};this.buttonArr.push(t);let e={width:300,height:100,left:0,top:0,text:"Show debug",showDebug:this.buttonShowDebug,render:function(t){this.showDebug?(this.showDebug=!this.showDebug,t.fillStyle="green",t.fillRect(this.left,this.top,this.width,this.height),t.font="bold 32px Monospace",t.fillStyle="grey",t.fillText(`${this.text}`,this.left+this.width/2-100,this.top+this.height/2+10)):(this.showDebug=!this.showDebug,t.fillStyle="#372F3F",t.fillRect(this.left,this.top,this.width,this.height),t.font="bold 32px Monospace",t.fillStyle="grey",t.fillText(`${this.text}`,this.left+this.width/2-100,this.top+this.height/2+10))},center:function(t){this.left=t.width/2-this.width/2,this.top=200},click:()=>{this.buttonShowDebug=!this.buttonShowDebug,n.flagDebug=this.buttonShowDebug,this.buttonArr.forEach(t=>{t.render(this.ctxMenuRestart,this.totalScore)})},hover:()=>{this.ctxMenu.clearRect(0,0,this.canvas.width,this.canvas.height),this.ctxMenu.fillStyle="#372F00",this.ctxMenu.fillRect(this.left,this.top,this.width,this.height),this.ctxMenu.font="bold 32px Monospace",this.ctxMenu.fillStyle="white",this.ctxMenu.fillText(`${this.text}`,this.left+this.width/2-95,this.top+this.height/2+10)}};this.buttonArr.push(e);let i={width:300,height:100,left:0,top:0,text:"Download my CV",render:function(t){t.fillStyle="#372F3F",t.fillRect(this.left,this.top,this.width,this.height),t.font="bold 32px Monospace",t.fillStyle="grey",t.fillText(`${this.text}`,this.left+this.width/2-135,this.top+this.height/2+10)},center:function(t){this.left=t.width/2-this.width/2,this.top=350},stringWidth:t=>19*(t.length+this.totalScore.toString().length),click:()=>{window.open("http://86.252.41.122/CV-VC-Ifocop.pdf")},hover:()=>{}};this.buttonArr.push(i);let s={width:300,height:100,left:0,top:0,text:"final score : ",render:function(t,e){t.font="bold 32px Monospace",t.fillStyle="white",t.fillText(`${this.text}${e}`,this.left+this.width/2-this.stringWidth(this.text),this.top+this.height/2+10)},center:function(t){this.left=t.width/2-this.width/2,this.top=500},stringWidth:t=>10*(t.length+this.totalScore.toString().length),click:()=>{},hover:()=>{}};this.buttonArr.push(s),this.buttonArr.forEach(t=>{t.center(this.canvas),t.render(this.ctxMenuRestart,this.totalScore)}),this.canvas.buttons=this.buttonArr,window.addEventListener("resize",()=>{this.buttonArr.forEach(t=>{t.center(this.canvas),t.render(this.ctxMenu)})}),this.canvas.addEventListener("click",rt),this.canvas.addEventListener("mouseover",at)},ot.prototype.start=function(){this.addListener(),this.init()},ot.prototype.reset=function(){this.removeListener(),this.restartScreen()},ot.prototype.init=function(){this.gameSound=new Audio,this.gameSound.src=ht,this.gameSound.loop=!0,this.gameSound.play(),this.ctxBlackScreen.globalAlpha=0,this.flagDrawPending=!1,this.totalScore=0,this.score=new $(this.canvas),this.readyText=new tt(this.canvas,"Ready ?",new p(0,0),64,n),this.background=new Q(this.canvas,o,r,a,c,s),nt.x=this.canvas.width/2,nt.y=this.canvas.height/2,this.player=new Y(this.canvas,this.initPos,h,n),this.playerReachStartPos=!1;let t=new p(this.canvas.width/2,this.canvas.height+2*this.player.gameComponent.physicsBody.radius);this.player.gameComponent.teleport(t),this.enemyArr=[],this.allEnemyArr=[],this.shieldPackArr=[],this.projectileArr=[],this.scale(),requestAnimationFrame(this.requestRedraw.bind(this))},ot.prototype.addListener=function(){this.canvas.addEventListener("touchstart",ct,!1),this.canvas.addEventListener("touchmove",ct,!1),this.canvas.addEventListener("mousedown",dt,!0),this.canvas.addEventListener("mousemove",dt,!1)},ot.prototype.removeListener=function(){this.canvas.removeEventListener("touchstart",ct,!1),this.canvas.removeEventListener("touchmove",ct,!1),this.canvas.removeEventListener("mousedown",dt,!0),this.canvas.removeEventListener("mousemove",dt,!1)},ot.prototype.updateDestroyed=function(){for(let t=0;t<this.enemyArr.length;t++){this.enemyArr[t].destroyed&&(this.player.enemyInAggroArr.splice(this.player.enemyInAggroArr.indexOf(this.enemyArr[t].id),1),this.enemyArr.splice(t,1));for(let t=0;t<this.shieldPackArr.length;t++)this.shieldPackArr[t].destroyed&&this.shieldPackArr.splice(t,1);void 0!==this.player&&this.player.destroyed&&(this.player=null,delete this.player),void 0!==this.readyText&&this.readyText.destroyed&&(this.readyText=null,delete this.readyText)}},ot.prototype.updateScore=function(){if(void 0!==this.player){var t=0;this.allEnemyArr.forEach(e=>{t+=e.score}),this.score.update(t+this.player.score),this.totalScore=this.score.score}},ot.prototype.scale=function(){this.enemyArr.forEach(t=>{t.gameComponent.physicsBody.scale(h)}),this.player.gameComponent.physicsBody.scale(h)},ot.prototype.spawnShieldPack=function(){this.spawnShieldPackTimer-=Math.random(),this.spawnShieldPackTimer<=0&&(this.spawnShieldPackTimer=u.shieldPackSpeedSpawn,this.shieldPackArr.push(new it(this.canvas,n)))},ot.prototype.spawnRandomEnemy=function(){if(this.spawnEnemyTimer-=Math.random(),this.spawnEnemyTimer<=0){this.spawnEnemyTimer=d.enemySpeedSpawn;var t=new U(this.canvas,this.initPos,n),e=null,i=null;switch(Math.round(3*Math.random())){case 0:e=Math.round(Math.random()*(this.canvas.width-2*t.gameComponent.physicsBody.radius))+t.gameComponent.physicsBody.radius,i=2*-t.gameComponent.physicsBody.radius;break;case 1:e=Math.round(Math.random()*(this.canvas.width-2*t.gameComponent.physicsBody.radius))+t.gameComponent.physicsBody.radius,i=this.canvas.height+t.gameComponent.physicsBody.radius;break;case 2:e=-t.gameComponent.physicsBody.radius,i=Math.round(Math.random()*(this.canvas.height-2*t.gameComponent.physicsBody.radius))+t.gameComponent.physicsBody.radius;break;case 3:e=this.canvas.width+t.gameComponent.physicsBody.radius,i=Math.round(Math.random()*(this.canvas.height-2*t.gameComponent.physicsBody.radius))+t.gameComponent.physicsBody.radius;break;default:console.log("Bug")}t.gameComponent.teleport(new p(e,i)),this.enemyArr.push(t),this.allEnemyArr.push(t)}},ot.prototype.update=function(){this.updateScore(),this.background.update(),this.updateDestroyed(),this.playerReachStartPos?void 0!==this.player&&(this.player.moveTouch(nt),this.player.update(this.enemyArr),this.spawnRandomEnemy(),this.spawnShieldPack(),this.shieldPackArr.forEach(t=>{t.move(this.player),t.update()}),this.enemyArr.forEach(t=>{t.reachStartPos?void 0!==this.player?t.move(this.player):t.move():void 0!==this.player?t.moveStartPos(this.player):t.moveStartPos(),t.update(this.player)})):(this.player.reachStartPos(),this.player.update(this.enemyArr),this.player.reachStartPos()&&(this.playerReachStartPos=!0,console.log("game start !"),this.readyText.changeText("GO !!!"),this.readyText.destroy()))},ot.prototype.render=function(){this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.ctxBlackScreen.clearRect(0,0,this.canvas.width,this.canvas.height),this.ctxText.clearRect(0,0,this.canvas.window,this.canvas.height),this.playerReachStartPos?this.ctxBlackScreen.globalAlpha=1:(this.ctxBlackScreen.fillStyle="black",this.ctxBlackScreen.globalAlpha+=.008),this.background.render(this.ctx),this.score.render(this.ctx),this.enemyArr.forEach(t=>{t.render(this.ctx)}),this.shieldPackArr.forEach(t=>{t.render(this.ctx)}),void 0!==this.readyText&&this.readyText.render(this.ctxText),void 0!==this.player&&this.player.render(this.ctx)},ot.prototype.redraw=function(){void 0!==this.player?(this.flagDrawPending=!1,this.update(),this.render(),this.requestRedraw()):this.reset()},ot.prototype.requestRedraw=function(t){if(!this.flagDrawPending){this.flagDrawPending=!0;let e=0;this.startTime<0?this.startTime=t:e=t-this.startTime,e<this.animationLength?this.rafID=requestAnimationFrame(this.redraw.bind(this)):(this.startTime=-1,this.rafID=requestAnimationFrame(this.redraw.bind(this)))}};i(8);var ut=/iPhone|iPad|iPod|Android/i.test(navigator.userAgent);if(ut?console.log("mobile detected :",navigator.userAgent):console.log("Navigator don't support deviceorientation"),ut){function pt(t){(t=t||window.event).preventDefault&&t.preventDefault(),t.returnValue=!1}window.addEventListener("DOMMouseScroll",pt,!1),window.ontouchmove=pt}let lt=function(){const t=document.createElement("canvas");return t.setAttribute("id","gameCanvas"),t.setAttribute("width",window.innerWidth),t.setAttribute("height",window.innerHeight),t.innerHTML=`${t} / canvas element don't exist, please use a modern web browser :)`,t}();document.body.appendChild(lt),window.addEventListener("resize",(function(){this.document.getElementById("gameCanvas").setAttribute("width",window.innerWidth),this.document.getElementById("gameCanvas").setAttribute("height",window.innerHeight)})),new ot(lt).menuScreen()}]);
//# sourceMappingURL=game.bundle.js.map